{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to Learning Robotics","title":"Welcome to Learning Robotics"},{"location":"#welcome-to-learning-robotics","text":"","title":"Welcome to Learning Robotics"},{"location":"Gazebo/","text":"Gazebo simulator Gazebo is a physics simualtor which make it easy to examine robots algorithms. Building new world In oreder to build a world or a model in the gazebo, we should create a sdf file. A world sdf file should look as: xml version sdf version world model An example to world file: <?xml version='1.0'?> <sdf version=\"1.5\"> <world name=\"default\"> <model name=\"ground_plane\"> <static>true</static> <link name=\"link\"> <collision name=\"collision\"> <geometry> <plane> <normal>0 0 1</normal> <size>100 100</size> </plane> </geometry> <surface> <contact> <collide_bitmask>0xffff</collide_bitmask> </contact> <friction> <ode> <mu>0.8</mu> <mu2>0</mu2> </ode> </friction> </surface> </collision> <visual name=\"visual\"> <cast_shadows>false</cast_shadows> <geometry> <plane> <normal>0 0 1</normal> <size>100 100</size> </plane> </geometry> <material> <script> <uri>file://media/materials/scripts/gazebo.material</uri> <name>Gazebo/Grey</name> </script> </material> </visual> </link> </model> <model name ='box'> <pose>1 2 0 0 0 0</pose> <link name ='link'> <pose>0 0 .5 0 0 0</pose> <collision name ='collision'> <geometry> <box><size>1 1 1</size></box> </geometry> </collision> <visual name ='visual'> <geometry> <box><size>1 1 1</size></box> </geometry> </visual> </link> </model> </world> </sdf> If you want to add a color to your model, you should add material to the visual tag: <material> <script> <uri>file://media/materials/scripts/gazebo.material<uri> <name>Gazebo/Green</name> </script> </material>","title":"Gazebo simulator"},{"location":"Gazebo/#gazebo-simulator","text":"Gazebo is a physics simualtor which make it easy to examine robots algorithms.","title":"Gazebo simulator"},{"location":"Gazebo/#building-new-world","text":"In oreder to build a world or a model in the gazebo, we should create a sdf file. A world sdf file should look as: xml version sdf version world model An example to world file: <?xml version='1.0'?> <sdf version=\"1.5\"> <world name=\"default\"> <model name=\"ground_plane\"> <static>true</static> <link name=\"link\"> <collision name=\"collision\"> <geometry> <plane> <normal>0 0 1</normal> <size>100 100</size> </plane> </geometry> <surface> <contact> <collide_bitmask>0xffff</collide_bitmask> </contact> <friction> <ode> <mu>0.8</mu> <mu2>0</mu2> </ode> </friction> </surface> </collision> <visual name=\"visual\"> <cast_shadows>false</cast_shadows> <geometry> <plane> <normal>0 0 1</normal> <size>100 100</size> </plane> </geometry> <material> <script> <uri>file://media/materials/scripts/gazebo.material</uri> <name>Gazebo/Grey</name> </script> </material> </visual> </link> </model> <model name ='box'> <pose>1 2 0 0 0 0</pose> <link name ='link'> <pose>0 0 .5 0 0 0</pose> <collision name ='collision'> <geometry> <box><size>1 1 1</size></box> </geometry> </collision> <visual name ='visual'> <geometry> <box><size>1 1 1</size></box> </geometry> </visual> </link> </model> </world> </sdf> If you want to add a color to your model, you should add material to the visual tag: <material> <script> <uri>file://media/materials/scripts/gazebo.material<uri> <name>Gazebo/Green</name> </script> </material>","title":"Building new world"},{"location":"Ubuntu_cheat_sheet/","text":"Ubuntu cheat sheet Command Explanation man sed get manual of a command, for example sed command ps -aux grep lspci check GPU version lsb_release -a check ubuntu version grep -r \"word\" /path/to/files find a word inside all files uptime check computer running time dmesg show usb connections find . -iname find a file which find the file path chown -Rfv user:user /tmp change user and group owner of /tmp (or any folder/file) df -h show the free disk (-h= human readable, -a= all, even if the disk is 0) sudo tcpdump -n -i lo check connections (-n= no resolve, lo= local card, protocol_name= arp,icmp etc) for example: sudo tcpdump -n -i any icmp = check connection for any card Installations Command Explanation dpkg -l grep dpkg -i .deb install deb file cat /etc/apt/sources.list get link to all ubuntu installations and network deb files cat /etc/hosts file for changing IP and for adding external server machine Networks Command Explanation ifconfig check my IP ip addr see all IP addresses, as ifconfig sudo ifconfig eth0:1 /24 add virtual IP address. 24 is for subnet 255.255.255.0 netstat -nau check udp processes netstat -naup check udp processes with details netstat -natp check tcp processes arp -n check connection history Open a file Command Explanation code open visual studio code IDE vim terminal with edit option less terminal - show content one page at a time cat terminal short view","title":"Ubuntu cheat sheet"},{"location":"Ubuntu_cheat_sheet/#ubuntu-cheat-sheet","text":"Command Explanation man sed get manual of a command, for example sed command ps -aux grep lspci check GPU version lsb_release -a check ubuntu version grep -r \"word\" /path/to/files find a word inside all files uptime check computer running time dmesg show usb connections find . -iname find a file which find the file path chown -Rfv user:user /tmp change user and group owner of /tmp (or any folder/file) df -h show the free disk (-h= human readable, -a= all, even if the disk is 0) sudo tcpdump -n -i lo check connections (-n= no resolve, lo= local card, protocol_name= arp,icmp etc) for example: sudo tcpdump -n -i any icmp = check connection for any card","title":"Ubuntu cheat sheet"},{"location":"Ubuntu_cheat_sheet/#installations","text":"Command Explanation dpkg -l grep dpkg -i .deb install deb file cat /etc/apt/sources.list get link to all ubuntu installations and network deb files cat /etc/hosts file for changing IP and for adding external server machine","title":"Installations"},{"location":"Ubuntu_cheat_sheet/#networks","text":"Command Explanation ifconfig check my IP ip addr see all IP addresses, as ifconfig sudo ifconfig eth0:1 /24 add virtual IP address. 24 is for subnet 255.255.255.0 netstat -nau check udp processes netstat -naup check udp processes with details netstat -natp check tcp processes arp -n check connection history","title":"Networks"},{"location":"Ubuntu_cheat_sheet/#open-a-file","text":"Command Explanation code open visual studio code IDE vim terminal with edit option less terminal - show content one page at a time cat terminal short view","title":"Open a file"},{"location":"apt-cacher-ng/","text":"Apt cacher ng It is a package to create a local cache of the Debian mirrors. Server To get started you should create a server by installing the package: apt install apt-cacher-ng change the cache directory in the configuration file: vim /etc/apt-cacher-ng/acng.conf In the line of CacheDir choose your directory path. Client Define the client configuration in order to know about the proxy: echo 'Acquire::http { Proxy \"http://<server_ip>:3142\"; }' | sudo tee -a /etc/apt/apt.conf.d/proxy Check your cacher: In the client machine: sudo apt update sudo apt install <package_name> you should be able to see the files in the server machine (according to CacheDir in the acng.conf file).","title":"Apt cacher ng"},{"location":"apt-cacher-ng/#apt-cacher-ng","text":"It is a package to create a local cache of the Debian mirrors.","title":"Apt cacher ng"},{"location":"apt-cacher-ng/#server","text":"To get started you should create a server by installing the package: apt install apt-cacher-ng change the cache directory in the configuration file: vim /etc/apt-cacher-ng/acng.conf In the line of CacheDir choose your directory path.","title":"Server"},{"location":"apt-cacher-ng/#client","text":"Define the client configuration in order to know about the proxy: echo 'Acquire::http { Proxy \"http://<server_ip>:3142\"; }' | sudo tee -a /etc/apt/apt.conf.d/proxy","title":"Client"},{"location":"apt-cacher-ng/#check-your-cacher","text":"In the client machine: sudo apt update sudo apt install <package_name> you should be able to see the files in the server machine (according to CacheDir in the acng.conf file).","title":"Check your cacher:"},{"location":"aptly/","text":"Aptly When trying to update several computers in local network (without internet connection) aptly is a convinient solution. You can either create a mirror of remote repositories or build your desired repository from deb files. Aptly snapshot option allows you to transition your package environment to a new version, or rollback to a previous version. After publishing a snapshot, you can use apt tool in order to install packages. Create a key In your home directory create a GPG2 batch file: cat >~/gpg2_generate_batch_file.txt <<EOF %echo Generating a default key Key-Type: RSA Key-Length: 4096 Name-Real: MyCompanyName Name-Comment: aptly key no passphrase Name-Email: info@mycompanyname.com Expire-Date: 0 %no-protection # Do a commit here, so that we can later print \"done\" :-) %commit %echo done EOF Generate a general key: gpg --batch --gen-key ~/gpg2_generate_batch_file.txt This key will allow us to sign and export our repository. First we need to check our key: gpg --list-key The key will look as follow: gpg: checking the trustdb gpg: marginals needed: 3 completes needed: 1 trust model: pgp gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u /home/robokal/.gnupg/pubring.kbx ------------------------------ pub rsa4096 2021-03-20 [SCEA] 152B12FDCCEB6DCD186430F56FBBF490B10AB3CB uid [ultimate] MyCompanyName (aptly key no passphrase) <info@mycompanyname.com> At last, we should export the key: gpg --output ~/.aptly/public/key.pub --armor --export 152B12FDCCEB6DCD186430F56FBBF490B10AB3CB Publish a reposiroty Create a repository: aptly repo create repo_name Add packages to your repository (for deb files): aptly repo add repo_name ~/Downloads/folder_name Create a snapshot: aptly snapshot create snap_name from repo repo_name Publish the repository, choose the component and the distribution: sudo aptly publish snapshot -component=main -distribution=focal snap_name Finally, serve the published repository: aptly serve Use the repository In other machine, you can use the published repository to install the packages. First, add the key. Insert the IP of the serve machine: wget http://192.168.1.14:8080/key.pub sudo apt-key add key.pub Check your machine keys: apt-key list Now you can update your system. Add to the file /etc/apt/sources.list (according to the desired serve IP, distribution and component): deb http://192.168.1.14:8080/ubuntu focal main At last, you can update your machine: sudo apt update sudo apt install <package_name>","title":"Aptly"},{"location":"aptly/#aptly","text":"When trying to update several computers in local network (without internet connection) aptly is a convinient solution. You can either create a mirror of remote repositories or build your desired repository from deb files. Aptly snapshot option allows you to transition your package environment to a new version, or rollback to a previous version. After publishing a snapshot, you can use apt tool in order to install packages.","title":"Aptly"},{"location":"aptly/#create-a-key","text":"In your home directory create a GPG2 batch file: cat >~/gpg2_generate_batch_file.txt <<EOF %echo Generating a default key Key-Type: RSA Key-Length: 4096 Name-Real: MyCompanyName Name-Comment: aptly key no passphrase Name-Email: info@mycompanyname.com Expire-Date: 0 %no-protection # Do a commit here, so that we can later print \"done\" :-) %commit %echo done EOF Generate a general key: gpg --batch --gen-key ~/gpg2_generate_batch_file.txt This key will allow us to sign and export our repository. First we need to check our key: gpg --list-key The key will look as follow: gpg: checking the trustdb gpg: marginals needed: 3 completes needed: 1 trust model: pgp gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u /home/robokal/.gnupg/pubring.kbx ------------------------------ pub rsa4096 2021-03-20 [SCEA] 152B12FDCCEB6DCD186430F56FBBF490B10AB3CB uid [ultimate] MyCompanyName (aptly key no passphrase) <info@mycompanyname.com> At last, we should export the key: gpg --output ~/.aptly/public/key.pub --armor --export 152B12FDCCEB6DCD186430F56FBBF490B10AB3CB","title":"Create a key"},{"location":"aptly/#publish-a-reposiroty","text":"Create a repository: aptly repo create repo_name Add packages to your repository (for deb files): aptly repo add repo_name ~/Downloads/folder_name Create a snapshot: aptly snapshot create snap_name from repo repo_name Publish the repository, choose the component and the distribution: sudo aptly publish snapshot -component=main -distribution=focal snap_name Finally, serve the published repository: aptly serve","title":"Publish a reposiroty"},{"location":"aptly/#use-the-repository","text":"In other machine, you can use the published repository to install the packages. First, add the key. Insert the IP of the serve machine: wget http://192.168.1.14:8080/key.pub sudo apt-key add key.pub Check your machine keys: apt-key list Now you can update your system. Add to the file /etc/apt/sources.list (according to the desired serve IP, distribution and component): deb http://192.168.1.14:8080/ubuntu focal main At last, you can update your machine: sudo apt update sudo apt install <package_name>","title":"Use the repository"},{"location":"canbus/","text":"CanBus CAN = Controller Area Network Is a standardized communication protocol designed to allow microcontrollers and other devices to communicate with each other. Installation: pip install python-can pip install cantools Activation on jetson (TX2): sudo modprobe can sudo modprobe can_raw sudo modprobe mttcan sudo ip link set can0 type can bitrate 250000 restart-ms 100 loopback sudo ip link set can0 up Generate dbc file (canbus databases) The dbc file can be generated as explained in intro to dbc . Using a program named Kvaser Database editor, you can create a simple dbc file according to your own messages protocol. An easy explanation can be found here Simple example - my_cam.dbc: VERSION \"\" NS_ : CM_ BA_DEF_ BA_ BA_DEF_DEF_ BS_: BU_: BO_ 50 TEST: 8 Vector_XXX SG_ ThrottleSpeed : 0|8@1+ (0.125,0) [0|0] \"rpm_precent\" Vector_XXX BO_ 2566844926 CCVS1: 8 Vector_XXX SG_ WheelBasedVehicleSpeed : 8|16@1+ (0.00390625,0) [0|250.996] \"km/h\" Vector_XXX CM_ BO_ 50 \"Electronic Engine Controller 1\"; CM_ SG_ 50 ThrottleSpeed \"Actual engine speed\" Communication - send and receive can messages Example - save as can_node.py import sys import os import can from can.bus import BusState from threading import Thread, Event import logging import cantools import time log = logging.getLogger(__name__) class CanNode: def __init__(self,db): self.db = db def send_encoded_message(self, bus, stop_event): \"\"\"loop for sending encoded can messages\"\"\" log.warn(\"Start sending a message every 1s\") start_time = time.time() while not stop_event.is_set(): throttle_message = self.db.get_message_by_name('TEST') data = throttle_message.encode({'ThrottleSpeed': 10}) msg = can.Message(arbitration_id = throttle_message. frame_id, data = data, timestamp = time.time() - start_time) bus.send(msg) log.warn(\"tx: {}\".format(msg)) time.sleep(1) log.warn(\"Stop sending messages) def receive_encoded_message(self, bus, stop_event) \"\"\"loop for receiving\"\"\" log.warn(\"Start receiving can messages\") while not stop_event.is_set(): rx_msg = bus.recv(1) if rx_msg is not None: log.warn(\"rx: {}\".format(rx_msg)) log.warn(\"decoded: {}\".format(self.db.decode_message(rx_msg.arbitration_id, rx_msg.data))) log.warn(\"Stop receiving messages\") def main(): db = cantools.database.load_file('my_can.dbc') can_node = CanNode(db) with can.interface.Bus(bustype='socketcan', channel='can0', bitrate=250000) as bus: stop_event = Event() send_cyclic_thread = Thread(target = can_node.send_encoded_message, args=(bus, stop_event)) receive_thread = Thread(target = can_node.receive_encoded_message, args=(bus, stop_event)) send_cyclic_thread.start() receive_thread.start() try: while True: time.sleep(0) except KeyboardInterrupt: stop_event.set() time.sleep(0.5) exit(0) if __name__=='__main__': sys.exit(main())","title":"CanBus"},{"location":"canbus/#canbus","text":"CAN = Controller Area Network Is a standardized communication protocol designed to allow microcontrollers and other devices to communicate with each other.","title":"CanBus"},{"location":"canbus/#installation","text":"pip install python-can pip install cantools","title":"Installation:"},{"location":"canbus/#activation-on-jetson-tx2","text":"sudo modprobe can sudo modprobe can_raw sudo modprobe mttcan sudo ip link set can0 type can bitrate 250000 restart-ms 100 loopback sudo ip link set can0 up","title":"Activation on jetson (TX2):"},{"location":"canbus/#generate-dbc-file-canbus-databases","text":"The dbc file can be generated as explained in intro to dbc . Using a program named Kvaser Database editor, you can create a simple dbc file according to your own messages protocol. An easy explanation can be found here Simple example - my_cam.dbc: VERSION \"\" NS_ : CM_ BA_DEF_ BA_ BA_DEF_DEF_ BS_: BU_: BO_ 50 TEST: 8 Vector_XXX SG_ ThrottleSpeed : 0|8@1+ (0.125,0) [0|0] \"rpm_precent\" Vector_XXX BO_ 2566844926 CCVS1: 8 Vector_XXX SG_ WheelBasedVehicleSpeed : 8|16@1+ (0.00390625,0) [0|250.996] \"km/h\" Vector_XXX CM_ BO_ 50 \"Electronic Engine Controller 1\"; CM_ SG_ 50 ThrottleSpeed \"Actual engine speed\"","title":"Generate dbc file (canbus databases)"},{"location":"canbus/#communication-send-and-receive-can-messages","text":"Example - save as can_node.py import sys import os import can from can.bus import BusState from threading import Thread, Event import logging import cantools import time log = logging.getLogger(__name__) class CanNode: def __init__(self,db): self.db = db def send_encoded_message(self, bus, stop_event): \"\"\"loop for sending encoded can messages\"\"\" log.warn(\"Start sending a message every 1s\") start_time = time.time() while not stop_event.is_set(): throttle_message = self.db.get_message_by_name('TEST') data = throttle_message.encode({'ThrottleSpeed': 10}) msg = can.Message(arbitration_id = throttle_message. frame_id, data = data, timestamp = time.time() - start_time) bus.send(msg) log.warn(\"tx: {}\".format(msg)) time.sleep(1) log.warn(\"Stop sending messages) def receive_encoded_message(self, bus, stop_event) \"\"\"loop for receiving\"\"\" log.warn(\"Start receiving can messages\") while not stop_event.is_set(): rx_msg = bus.recv(1) if rx_msg is not None: log.warn(\"rx: {}\".format(rx_msg)) log.warn(\"decoded: {}\".format(self.db.decode_message(rx_msg.arbitration_id, rx_msg.data))) log.warn(\"Stop receiving messages\") def main(): db = cantools.database.load_file('my_can.dbc') can_node = CanNode(db) with can.interface.Bus(bustype='socketcan', channel='can0', bitrate=250000) as bus: stop_event = Event() send_cyclic_thread = Thread(target = can_node.send_encoded_message, args=(bus, stop_event)) receive_thread = Thread(target = can_node.receive_encoded_message, args=(bus, stop_event)) send_cyclic_thread.start() receive_thread.start() try: while True: time.sleep(0) except KeyboardInterrupt: stop_event.set() time.sleep(0.5) exit(0) if __name__=='__main__': sys.exit(main())","title":"Communication - send and receive can messages"},{"location":"mkdocs/","text":"Mkdocs MkDocs is a fastand simple static site generator which can help you build your project documentation. Documentation source files are written in Markdown, and configured with a single YAML configuration file. Installation Install with pip: pip install mkdocs Create file mkdocs.yml in your project: site_name: <your_site_name> Try to see your site: run with -v to present errors if occure mkdocs -v serve Run: http://127.0.0.1:8000 Plugins search plugin should call once. It is a default plugin and if you declare plugins you should declare search. Create Table In your MarkDown file, create a table as: | First Column | Second Column | Third Column | |---------------|:--------------:|---------------| | Ex1 | Ex2 | Ex3 | In order to center the content, use :---: as shown in Second Column Install the plugin: pip install mkdocs-bootstrap-tables-plugin Add the plugin to mkdocs.yml file: plugins: - search - bootstrap-tables You will get the table as displayed: First Column Second Column Third Column Ex1 Ex2 Ex3 Create Mermaid Graphs In your MarkDown file, create an example graph: graph LR Hello --> MermaidPlugin Install the plugin: pip install mkdocs-mermaid2-plugin Enter to https://www.cdnpkg.com/mermaid/file/mermaid.min.js/ and download the file mermaid.min.js (version 8.6.3) Save the file on project/docs folder. Add the plugin to mkdocs.yml file: plugins: - search - mermaid2 Add the Mermaid library declaration to mkdocs.yml file: extra_javascript: - mermaid.min.js Download from vscode MarketPlace the Markdown Preview Mermaid Support in order to see mermaid graphs on markdown file. Code Reference Install the plugin: pip install mkdocstrings Add the plugin to mkdocs.yml file: plugins: - search - mkdocstrings Add a reference in your MarkDown file: ::: <folder>.<file_name>.<class/function> For example: ::: src.main.func","title":"Mkdocs"},{"location":"mkdocs/#mkdocs","text":"MkDocs is a fastand simple static site generator which can help you build your project documentation. Documentation source files are written in Markdown, and configured with a single YAML configuration file.","title":"Mkdocs"},{"location":"mkdocs/#installation","text":"Install with pip: pip install mkdocs Create file mkdocs.yml in your project: site_name: <your_site_name> Try to see your site: run with -v to present errors if occure mkdocs -v serve Run: http://127.0.0.1:8000","title":"Installation"},{"location":"mkdocs/#plugins","text":"search plugin should call once. It is a default plugin and if you declare plugins you should declare search.","title":"Plugins"},{"location":"mkdocs/#create-table","text":"In your MarkDown file, create a table as: | First Column | Second Column | Third Column | |---------------|:--------------:|---------------| | Ex1 | Ex2 | Ex3 | In order to center the content, use :---: as shown in Second Column Install the plugin: pip install mkdocs-bootstrap-tables-plugin Add the plugin to mkdocs.yml file: plugins: - search - bootstrap-tables You will get the table as displayed: First Column Second Column Third Column Ex1 Ex2 Ex3","title":"Create Table"},{"location":"mkdocs/#create-mermaid-graphs","text":"In your MarkDown file, create an example graph: graph LR Hello --> MermaidPlugin Install the plugin: pip install mkdocs-mermaid2-plugin Enter to https://www.cdnpkg.com/mermaid/file/mermaid.min.js/ and download the file mermaid.min.js (version 8.6.3) Save the file on project/docs folder. Add the plugin to mkdocs.yml file: plugins: - search - mermaid2 Add the Mermaid library declaration to mkdocs.yml file: extra_javascript: - mermaid.min.js Download from vscode MarketPlace the Markdown Preview Mermaid Support in order to see mermaid graphs on markdown file.","title":"Create Mermaid Graphs"},{"location":"mkdocs/#code-reference","text":"Install the plugin: pip install mkdocstrings Add the plugin to mkdocs.yml file: plugins: - search - mkdocstrings Add a reference in your MarkDown file: ::: <folder>.<file_name>.<class/function> For example: ::: src.main.func","title":"Code Reference"}]}